<!DOCTYPE html>
<html lang="fr">





<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Info Klaivert</title>
    <link rel="stylesheet" href="music.css"> <!-- Lien vers le fichier CSS externe -->
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="icon" href="logopage.png">
    <script src="scroll.js"></script>
</head>

<body>
    <header>
        <!-- Utilise la balise <img> pour afficher l'image -->
        <img class="logogrand" src="logogrand.png">
        <h1>Klaivert</h1>
    </header>

    <nav>
        <!-- Ajoute ici des liens vers différentes sections -->
        <ul>
            <li><a href="index.html">Accueil</a></li>
            <li><a href="klaivert_jeu.html">Jeux</a></li>
            <li><a href="klaivert_musique.html">Musique</a></li>
        </ul>
    </nav>
    <h1>Musique ecouter par Klaivert</h>

        <h2>Graphique des Années de Sortie</h2>
        <div class="chart-container">
        <button id="toggleChartTypeButton">Toggle Chart Type</button>
        <canvas id="yearsChart" width="400" height="200"></canvas>
        <div id="averageYearDiv" class="average-year"></div>
        <div id="totalsong" class="totalsong">
            
        </div>
    </div>
        <div class="group">
            <h3>Chansons</h3>
        </div>




        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src="custom-tooltip-plugin.js"></script>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const songsData = [
                    //1946
                    { group: 'Édith Piaf', album: 'Chansons françaises (100 tubes) [Remasterisées]', name: "La vie en rose", year: '1946', cover: 'album/Chansons françaises (100 tubes) [Remasterisées].webp' },

                    //1965
                    { group: 'Charles Aznavour', album: 'Best of 40 Chansons', name: "La Bohème", year: '1965', cover: 'album/Best of 40 Chansons.png' },

                    //1975
                    { group: 'Queen', album: 'A night at the Opera', name: "Bohemian Rhapsody", year: '1975', cover: 'album/Queen-A-night-at-the-Opera.png' },
                    { group: 'AC/DC', album: 'High Voltage', name: "T.N.T.", year: '1975', cover: 'album/ACDC-HIGH-VOLTAGE-1.png' },

                    //1977
                    { group: 'Queen', album: 'News of the World', name: "We Will Rock You", year: '1977', cover: 'album/News-of-the-world.png' },
                    { group: 'Queen', album: 'News of the World', name: "We Are the Champions", year: '1977', cover: 'album/News-of-the-world.png' },

                    //1979
                    { group: 'Jacques Higelin', album: 'Tombé du ciel', name: "Tombé du ciel", year: '1979', cover: 'album/Tombé du ciel.webp' },

                    //1980
                    { group: 'AC/DC', album: 'Back in Black', name: "Back in Black", year: '1980', cover: 'album/ACDC_Back_in_Black_cover.png' },
                    { group: 'Depeche Mode', album: 'Speak and Spell', name: "Just Can't Get Enough", year: '1981', cover: 'album/Speak and Spell.png' },

                    //1984

                    { group: 'Depeche Mode', album: 'Some Great Reward', name: "People Are People", year: '1984', cover: 'album/Depeche_Mode_-_Some_Great_Reward.png' },
                    { group: 'Tears for Fears', album: 'Songs from the Big Chair', name: "Shout", year: '1984', cover: 'album/TEARS-FOR-FEARS-SONGS-FROM-THE-BIG-CHAIR.png' },

                    //1989
                    { group: 'The Cure', album: 'Greatest Hits', name: "Lullaby", year: '1989', cover: 'album/The Cure- Greatest Hits.webp.png' },
                    { group: 'Depeche Mode', album: 'Violator', name: "Personal Jesus ", year: '1989', cover: 'album/violator.png' },

                    //1990
                    { group: 'Depeche Mode', album: 'Violator', name: "Enjoy the Silence", year: '1990', cover: 'album/violator.png' },

                    //1999
                    { group: 'Red Hot Chili Peppers', album: 'Californication', name: "Californication", year: '1999', cover: 'album/Californication.png' },

                    //2003
                    { group: 'Red Hot Chili Peppers', album: 'By the Way', name: "Can't Stop", year: '2003', cover: 'album/RED HOT CHILI PEPPERS - BY THE WAY.png' },
                    { group: 'Run-DMC', album: 'The Greatest Hits', name: "It's Tricky", year: '2003', cover: 'album/The Greatest Hits.webp' },
                    //2005
                    { group: 'Michael Bublé', album: "It's Time (Deluxe Version)", name: "Feeling Good", year: '2005', cover: "album/It's Time (Deluxe Version).webp" },
                    { group: 'Michael Bublé', album: "It's Time (Deluxe Version)", name: "Home", year: '2005', cover: "album/It's Time (Deluxe Version).webp" },

                    //2007
                    { group: 'Mika', album: 'Life in Cartoon Motion', name: "Relax, Take It Easy", year: '2007', cover: 'album/Life in Cartoon Motion.png' },
                    //2009
                    { group: "Mozart l'Opéra Rock", album: "Mozart l'Opéra Rock", name: "L'assasymphonie", year: '2009', cover: 'album/Mozart l Opéra Rock.webp' },

                    //2011
                    { group: 'Coldplay', album: 'Mylo Xyloto', name: "Paradise", year: '2011', cover: 'album/Mylo Xyloto.png' },
                    { group: 'Jeremy Soule', album: 'The Elder Scrolls V: Skyrim (Original Game Soundtrack)', name: "Dragonborn", year: '2011', cover: 'album/The Elder Scrolls V: Skyrim (Original Game Soundtrack).webp' },

                    //2012
                    { group: 'Muse', album: 'The 2nd Law', name: "Madness", year: '2012', cover: 'album/The 2nd Law.png' },

                    //2013
                    { group: 'Daft Punk', album: 'Random Access Memories', name: "Get Lucky", year: '2013', cover: 'album/Random Access Memories.png' },
                    { group: 'Stromae', album: 'Racine carrée', name: "Carmen", year: '2013', cover: 'album/Racine carrée.webp' },

                    { group: 'Capital Cities', album: 'In a Tidal Wave of Mystery', name: "Safe and Sound", year: '2013', cover: 'album/In a Tidal Wave of Mystery.png' },

                    { group: 'Depeche Mode', album: 'Delta Machine', name: "Welcome to My World", year: '2013', cover: 'album/Depeche-Mode-Delta-Machine1.png' },
                    { group: 'Depeche Mode', album: 'Delta Machine', name: "Angel", year: '2013', cover: 'album/Depeche-Mode-Delta-Machine1.png' },
                    { group: 'Depeche Mode', album: 'Delta Machine', name: "Heaven", year: '2013', cover: 'album/Depeche-Mode-Delta-Machine1.png' },
                    { group: 'Depeche Mode', album: 'Delta Machine', name: "Secret to the End", year: '2013', cover: 'album/Depeche-Mode-Delta-Machine1.png' },
                    { group: 'Depeche Mode', album: 'Delta Machine', name: "My Little Universe", year: '2013', cover: 'album/Depeche-Mode-Delta-Machine1.png' },
                    { group: 'Depeche Mode', album: 'Delta Machine', name: "Slow", year: '2013', cover: 'album/Depeche-Mode-Delta-Machine1.png' },
                    { group: 'Depeche Mode', album: 'Delta Machine', name: "Broken", year: '2013', cover: 'album/Depeche-Mode-Delta-Machine1.png' },
                    { group: 'Depeche Mode', album: 'Delta Machine', name: "The Child Inside", year: '2013', cover: 'album/Depeche-Mode-Delta-Machine1.png' },
                    { group: 'Depeche Mode', album: 'Delta Machine', name: "Soft Touch/Raw Nerve", year: '2013', cover: 'album/Depeche-Mode-Delta-Machine1.png' },
                    { group: 'Depeche Mode', album: 'Delta Machine', name: "Should Be Higher", year: '2013', cover: 'album/Depeche-Mode-Delta-Machine1.png' },
                    { group: 'Depeche Mode', album: 'Delta Machine', name: "Alone", year: '2013', cover: 'album/Depeche-Mode-Delta-Machine1.png' },
                    { group: 'Depeche Mode', album: 'Delta Machine', name: "Soothe My Soul", year: '2013', cover: 'album/Depeche-Mode-Delta-Machine1.png' },
                    { group: 'Depeche Mode', album: 'Delta Machine', name: "Goodbye", year: '2013', cover: 'album/Depeche-Mode-Delta-Machine1.png' },
                    //2014
                    { group: 'Walk the Moon', album: 'Talking Is Hard', name: "Shut Up and Dance", year: '2014', cover: 'album/Walk_the_Moon-Talking_Is_Hard.png' },
                    { group: 'Royal Blood', album: 'Royal Blood', name: "Figure It Out", year: '2014', cover: 'album/Royal Blood.png' },
                    { group: 'Omi', album: 'Me 4 U', name: "Cheerleader", year: '2014', cover: 'album/OMI_-_Me_4_U.png' },
                    //2015
                    { group: 'Jakubi', album: 'Jakubi - Single', name: "cant-afford-it-all", year: '2015', cover: 'album/Jakubi - Single.webp' },
                    

                    //2016
                    { group: 'Depeche Mode', album: 'Spirit', name: "Where's the Revolution", year: '2016', cover: 'album/Spirit.png' },
                    { group: 'Depeche Mode', album: 'Spirit', name: "Going Backwards", year: '2016', cover: 'album/Spirit.png' },
                    { group: 'Depeche Mode', album: 'Spirit', name: "Scum", year: '2016', cover: 'album/Spirit.png' },

                    { group: 'Christopher Tin', album: 'Bande original', name: "Sogno di volare: Civilization VI Main Theme (Original Game Soundtrack)", year: '2016', cover: 'album/Sogno di volare: Civilization VI Main Theme (Original Game Soundtrack).webp' },

                    //2018
                    { group: 'MGMT', album: 'Little Dark Age', name: "Little Dark Age", year: '2018', cover: 'album/MGMT_-_Little_Dark_Age.png' },
                    //2019
                    { group: 'Au/Ra', album: 'Dance in the Dark - Single', name: "Dance in the DarK", year: '2019', cover: 'album/Dance in the Dark - Single.webp' },
                    
                    //2020
                    { group: 'Dua Lipa', album: 'Levitating', name: "Levitating", year: '2020', cover: 'album/Levitating.png' },
                    //2022
                    { group: 'JVKE', album: 'this is what ____ feels like (Vol. 1-4)', name: "golden hour", year: '2022', cover: 'album/this is what ____ feels like (Vol. 1-4).webp' },

                    //2023
                    { group: 'Depeche Mode', album: 'Memento Mori', name: "My Cosmos Is Mine", year: '2023', cover: 'album/Memento-Mori.png' },
                    { group: 'Depeche Mode', album: 'Memento Mori', name: "Wagging Tongue", year: '2023', cover: 'album/Memento-Mori.png' },
                    { group: 'Depeche Mode', album: 'Memento Mori', name: "Ghosts Again", year: '2023', cover: 'album/Memento-Mori.png' },
                    { group: 'Depeche Mode', album: 'Memento Mori', name: "Don't Say You Love Me", year: '2023', cover: 'album/Memento-Mori.png' },
                    { group: 'Depeche Mode', album: 'Memento Mori', name: "My Favourite Stranger", year: '2023', cover: 'album/Memento-Mori.png' },
                    { group: 'Depeche Mode', album: 'Memento Mori', name: "Soul with Me", year: '2023', cover: 'album/Memento-Mori.png' },
                    { group: 'Depeche Mode', album: 'Memento Mori', name: "Caroline's Monkey", year: '2023', cover: 'album/Memento-Mori.png' },
                    { group: 'Depeche Mode', album: 'Memento Mori', name: "Before We Drown", year: '2023', cover: 'album/Memento-Mori.png' },
                    { group: 'Depeche Mode', album: 'Memento Mori', name: "People Are Good", year: '2023', cover: 'album/Memento-Mori.png' },
                    { group: 'Depeche Mode', album: 'Memento Mori', name: "Always You", year: '2023', cover: 'album/Memento-Mori.png' },
                    { group: 'Depeche Mode', album: 'Memento Mori', name: "Never Let Me Go", year: '2023', cover: 'album/Memento-Mori.png' },
                    { group: 'Depeche Mode', album: 'Memento Mori', name: "Speak to Me", year: '2023', cover: 'album/Memento-Mori.png' },

                    { group: 'Kenya Grace', album: 'Strangers (Deep House Remix)', name: "Strangers", year: '2023', cover: 'album/Kenya_Grace_-_Strangers.png' },

                    { group: 'Fifty Fifty', album: 'The Beginning', name: "Cupid", year: '2023', cover: 'album/The Beginning.png' },

                    { group: 'Apel8', album: 'Heat', name: "Heat", year: '2023', cover: 'album/Heat (feat. Dro Kenji).png' },
                ];

                const groupColors = {
    'Queen': 'rgba(255, 0, 0, 0.8)', // Rouge
    'Kenya Grace': 'rgba(0, 128, 255, 0.8)', // Bleu
    'Depeche Mode': 'rgba(255, 255, 0, 0.8)', // Jaune
    'Daft Punk': 'rgba(0, 204, 153, 0.8)', // Turquoise
    'AC/DC': 'rgba(153, 0, 0, 0.8)', // Rouge foncé
    'Mika': 'rgba(255, 128, 0, 0.8)', // Orange
    'Dua Lipa': 'rgba(128, 0, 255, 0.8)', // Violet
    'Coldplay': 'rgba(0, 204, 0, 0.8)', // Vert
    'Muse': 'rgba(255, 51, 51, 0.8)', // Rouge vif
    'Fifty Fifty': 'rgba(0, 102, 255, 0.8)', // Bleu vif
    'Tears for Fears': 'rgba(0, 77, 64, 0.8)', // Vert foncé
    'Walk the Moon': 'rgba(51, 51, 102, 0.8)', // Bleu foncé
    'MGMT': 'rgba(255, 102, 0, 0.8)', // Orange foncé
    'Omi': 'rgba(0, 102, 204, 0.8)', // Bleu foncé
    'Capital Cities': 'rgba(0, 179, 179, 0.8)', // Turquoise foncé
    'Charles Aznavour': 'rgba(230, 230, 0, 0.8)', // Jaune vif
    'Royal Blood': 'rgba(128, 0, 0, 0.8)', // Rouge foncé
    'Red Hot Chili Peppers': 'rgba(204, 0, 102, 0.8)', // Rose
    'Apel8': 'rgba(255, 102, 0, 0.8)', // Orange vif
    'Run-DMC': 'rgba(0, 102, 0, 0.8)', // Vert foncé
    'Édith Piaf': 'rgba(0, 102, 204, 0.8)', // Bleu foncé
    'The Cure': 'rgba(179, 17, 255, 0.8)', // Violet vif
    'Jacques Higelin': 'rgba(255, 51, 128, 0.8)', // Rose vif
    'JVKE': 'rgba(0, 255, 179, 0.8)', // Turquoise vif
    "Mozart l'Opéra Rock": 'rgba(77, 179, 255, 0.8)', // Bleu clair
    "Stromae": 'rgba(102, 179, 77, 0.8)', // Vert clair
    "Michael Bublé": 'rgba(255, 179, 102, 0.8)', // Orange clair
    "Christopher Tin": 'rgba(179, 255, 77, 0.8)', // Jaune clair
    "Jeremy Soule": 'rgba(153, 128, 179, 0.8)', // Violet clair
    "Au/Ra": 'rgba(255, 128, 179, 0.8)', // Rose clair
    "Jakubi": 'rgba(128, 179, 255, 0.8)', // Bleu clair
};


                // Organiser les chansons par groupe
                const groupedSongs = {};
                songsData.forEach(song => {
                    if (!groupedSongs[song.group]) {
                        groupedSongs[song.group] = [];
                    }
                    groupedSongs[song.group].push(song);
                });

                const container = document.querySelector(".group");

                for (const group in groupedSongs) {
                    const groupElement = document.createElement("div");
                    groupElement.id = group;
                    groupElement.className = "group-container";
                    container.appendChild(groupElement);

                    const groupTitle = document.createElement("h2");
                    groupTitle.textContent = group;
                    groupElement.appendChild(groupTitle);

                    const groupAlbums = [...new Set(groupedSongs[group].map(song => song.album))];
                    groupAlbums.forEach(albumName => {
                        const albumElement = document.createElement("div");
                        albumElement.className = "album";

                        const albumTitle = document.createElement("h3");
                        albumTitle.textContent = albumName;

                        // Créez des icônes "+" et "-" pour le déroulement et le repliement
                        const expandIcon = document.createElement("i");
                        expandIcon.className = "fas fa-plus";
                        expandIcon.style.cursor = "pointer";
                        expandIcon.style.marginRight = "1hv"; /* Ajoutez un espace à droite des icônes */
                        expandIcon.style.float = "left"; /* Alignez les icônes à gauche */
                        expandIcon.style.alignItems = "left";

                        expandIcon.addEventListener("click", () => {
                            albumContent.style.display = albumContent.style.display === "block" ? "none" : "block";
                            // Mettez à jour l'icône en conséquence
                            if (albumContent.style.display === "block") {
                                expandIcon.className = "fas fa-minus";
                            } else {
                                expandIcon.className = "fas fa-plus";
                            }
                        });

                        albumTitle.appendChild(expandIcon);
                        albumElement.appendChild(albumTitle);

                        const albumContent = document.createElement("div");
                        albumContent.className = "album-content";

                        groupedSongs[group].forEach(song => {
                            if (song.album === albumName) {
                                const songElement = document.createElement("div");
                                songElement.className = "song";

                                const coverImage = document.createElement("img");
                                coverImage.className = "cover";
                                coverImage.src = song.cover;
                                coverImage.alt = `Cover de la chanson ${song.name}`;
                                songElement.appendChild(coverImage);

                                const songInfo = document.createElement("p");
                                songInfo.textContent = `${song.name} (${song.year})`;
                                songElement.appendChild(songInfo);

                                albumContent.appendChild(songElement);
                            }
                        });

                        // Initialment, cachez l'album
                        albumContent.style.display = "none";

                        albumElement.appendChild(albumContent);
                        groupElement.appendChild(albumElement);
                    });
                }

                // Création du graphique des années de sortie
                const years = songsData.map(song => song.year);
                const uniqueYears = [...new Set(years)];
                const ctx = document.getElementById('yearsChart').getContext('2d');

                const datasets = Object.keys(groupedSongs).map(group => {
                    return {
                        label: group,
                        data: uniqueYears.map(year => groupedSongs[group].filter(song => song.year === year).length),
                        backgroundColor: groupColors[group],
                        borderColor: groupColors[group],
                        borderWidth: 1,
                    };
                });

                const chart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: uniqueYears,
                        datasets: datasets,
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true,
                            },
                        },
                        plugins: {
                            legend: {
                                display: true,
                                position: 'top',
                            },
                        },
                        tooltips: {
                            callbacks: {
                                label: function (context) {
                                    const dataset = context.dataset.label;
                                    const year = context.parsed.x;
                                    const count = context.parsed.y;

                                    // Trouver la chanson correspondante pour cette année
                                    const songForYear = groupedSongs[dataset].find(song => song.year === year);

                                    if (songForYear) {
                                        // Récupérez les informations de la chanson
                                        const album = songForYear.album;
                                        const name = songForYear.name;
                                        const cover = songForYear.cover;

                                        // Affichez le titre de la chanson dans le tooltip
                                        const tooltipTitle = document.getElementById('tooltip-title');
                                        tooltipTitle.textContent = `${name} (${album})`;

                                        // Affichez la couverture de l'album dans le tooltip
                                        const tooltipCover = document.getElementById('tooltip-cover');
                                        tooltipCover.src = cover;

                                        // Affichez le tooltip-info
                                        const tooltipInfo = document.getElementById('tooltip-info');
                                        tooltipInfo.style.display = 'block';

                                        return `${dataset}: ${count}`;
                                    } else {
                                        // Cachez le tooltip-info s'il n'y a pas de chanson correspondante
                                        const tooltipInfo = document.getElementById('tooltip-info');
                                        tooltipInfo.style.display = 'none';

                                        return `${dataset}: ${count}`;
                                    }
                                },
                            },
                        },
                    },
                });
                 // Calcul du nombre total de musiques
        const totalSongs = songsData.length;

// Calcul du nombre total d'artistes
const artists = [...new Set(songsData.map(song => song.group))];
const totalArtists = artists.length;

// Calcul de la moyenne des années de sortie
const yearsArray = songsData.map(song => parseInt(song.year, 10));
const averageYear = yearsArray.reduce((acc, current) => acc + current, 0) / totalSongs;

// Sélectionnez les divs pour afficher les informations
const averageYearDiv = document.getElementById("averageYearDiv");
const totalSongDiv = document.getElementById("totalsong");

// Créez des éléments de paragraphe pour afficher les informations
const averageYearParagraph = document.createElement("p");
averageYearParagraph.textContent = `Moyenne des années de sortie: ${averageYear.toFixed(2)}`;

const totalSongParagraph = document.createElement("p");
totalSongParagraph.textContent = `Nombre total de musiques: ${totalSongs}`;

const totalArtistParagraph = document.createElement("p");
totalArtistParagraph.textContent = `Nombre total d'artistes: ${totalArtists}`;

// Ajoutez les paragraphes aux divs correspondantes
averageYearDiv.appendChild(averageYearParagraph);
totalSongDiv.appendChild(totalSongParagraph);
totalSongDiv.appendChild(totalArtistParagraph);

                const toggleChartTypeButton = document.getElementById('toggleChartTypeButton');
                toggleChartTypeButton.addEventListener('click', () => {
                    if (chart.config.type === 'line') {
                        chart.config.type = 'bar';
                    } else if (chart.config.type === 'bar') {
                        chart.config.type = 'line';
                    }
                    chart.update(); // Met à jour le graphique avec le nouveau type
                });
            });
        </script>

        <footer>
        </footer>
</body>

</html>